# Wilson 定理

對於質數 $$p$$，我們有

$$
(p-1)! \equiv -1 \ (mod \ p)
$$

證明：

當 $$p=2,3$$ 容易驗證，所以以下討論 $$p \geq 5$$：

在 $$mod \ p$$ 底下，非零元素皆有唯一乘法反完素，所以要確認反元素為自己的 ($$x^{-1} \equiv x$$) 的是那些，然後從 $$0...p-1$$ 之間把他們抽出即可。

$$
x^2 \equiv 1\ (mod \ p) \Rightarrow p \mid x^2 -1  \Rightarrow x \equiv 1, (p-1)
$$

​所以，除去 $$1, p-1$$ 剩下的元素乘起來為 $$1$$：​

$$
(p-1)! \equiv 1 \times (p-1) \equiv -1 \ (mod \ p)
$$

### ​Format 小定理

$$
a^{p-1} \equiv 1 \ (mod \ p) \ when \ p \nmid a
$$

#### 和 Wilson 定理有關的證明

第一個等號是把 $$a$$ 乘進 $$(p-1)!$$，第二個是因為 $$a, 2a...$$ 在 $$mod \ p$$ 底下是另一個 $$1...p-1$$ 的排列(因為兩兩不同餘)。

$$
a^{p-1}(p-1)! = a (2a)...((p-1)a) \equiv (p-1)!
$$

兩邊同時削掉 $$(p-1)!$$​就可以得證。

